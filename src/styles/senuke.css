/* Senuke page bespoke stylesheet — redesigned for 2025
   Scope: only affects /senuke via scrape-* class names used in that page
   Notes: prefers CSS variables, dark mode support, a11y focus, and subtle motion */

:root {
  --snk-bg-grad-1: 255, 255, 255;
  --snk-bg-grad-2: 240, 247, 255;
  --snk-ink: 15, 23, 42;          /* slate-900 */
  --snk-ink-2: 51, 65, 85;        /* slate-700 */
  --snk-ink-3: 100, 116, 139;     /* slate-500 */
  --snk-brand-1: 79, 70, 229;     /* indigo-600 */
  --snk-brand-2: 168, 85, 247;    /* violet-500 */
  --snk-brand-3: 56, 189, 248;    /* sky-400 */
  --snk-card: 255, 255, 255;
  --snk-border: 15, 23, 42;
  --snk-soft: 245, 247, 255;
  --snk-shadow: 13, 12, 38;
  --snk-radius: 14px;
}

.dark :root, .dark {
  --snk-bg-grad-1: 2, 6, 23;      /* slate-950 */
  --snk-bg-grad-2: 15, 23, 42;    /* slate-900 */
  --snk-ink: 241, 245, 249;       /* slate-100 */
  --snk-ink-2: 203, 213, 225;     /* slate-300 */
  --snk-ink-3: 148, 163, 184;     /* slate-400 */
  --snk-brand-1: 99, 102, 241;    /* indigo-500 */
  --snk-brand-2: 168, 85, 247;    /* violet-500 */
  --snk-brand-3: 56, 189, 248;    /* sky-400 */
  --snk-card: 2, 6, 23;
  --snk-border: 71, 85, 105;
  --snk-soft: 5, 12, 30;
  --snk-shadow: 0, 0, 0;
}

/* Progress */
.scrape-progress {
  position: sticky; top: 0; z-index: 40; height: 5px;
  background: linear-gradient(to right, rgba(var(--snk-brand-2), .10), rgba(var(--snk-brand-1), .08));
}
.scrape-progress__bar {
  height: 100%; width: 0;
  background: linear-gradient(90deg, rgb(var(--snk-brand-2)), rgb(var(--snk-brand-1)));
  box-shadow: 0 0 24px rgba(var(--snk-brand-2), .35);
  transition: width .18s ease;
}

/* Hero */
.scrape-hero {
  padding: 3rem 0 1.5rem; position: relative; overflow: visible;
  border-bottom: 1px solid rgba(var(--snk-border), .06);
}
.scrape-hero::before {
  content: ""; position: absolute; inset: -20% auto auto -15%; width: 520px; height: 520px;
  background: radial-gradient(closest-side, rgba(var(--snk-brand-3), .14), transparent 60%);
  filter: blur(26px); pointer-events: none; transform: translateY(-10%);
}
.scrape-hero::after {
  content: ""; position: absolute; inset: auto -18% -40% auto; width: 680px; height: 420px;
  background: radial-gradient(closest-side, rgba(var(--snk-brand-2), .12), transparent 65%);
  filter: blur(34px); pointer-events: none; transform: translateY(-10%);
}
.scrape-kicker { font-size: .72rem; letter-spacing: .12em; color: rgb(var(--snk-brand-1)); text-transform: uppercase; margin-bottom: .25rem; }
.scrape-title {
  font-size: clamp(2.1rem, 3.4vw, 3.25rem); font-weight: 900; line-height: 1.02; letter-spacing: -0.02em;
  background: linear-gradient(90deg, rgb(var(--snk-brand-1)), rgb(var(--snk-brand-2)));
  -webkit-background-clip: text; background-clip: text; color: transparent;
}
.scrape-subtitle { color: rgba(var(--snk-ink-2), 1); max-width: 72ch; margin-top: .55rem; }
.scrape-hero__meta { display: flex; gap: .75rem; flex-wrap: wrap; color: rgba(var(--snk-ink-3), 1); margin-top: .75rem; }
.scrape-hero__cta { display: flex; gap: .75rem; align-items: center; margin-top: 1.05rem; }
.scrape-hero__cta a { text-decoration: none; }

/* Layout */
.scrape-layout { display: grid; grid-template-columns: 300px 1fr; gap: 2.25rem; margin-top: 1.75rem; }
@media (max-width: 1024px) { .scrape-layout { grid-template-columns: 1fr; } }

/* TOC */
.scrape-toc {
  position: sticky; top: 96px; height: fit-content; border: 1px solid rgba(var(--snk-border), .08);
  border-radius: var(--snk-radius); padding: 1rem;
  background: linear-gradient(180deg, rgba(var(--snk-card), .92), rgba(var(--snk-soft), .66));
  backdrop-filter: blur(8px);
  box-shadow: 0 10px 28px rgba(var(--snk-shadow), .06);
}
.scrape-toc__title { font-weight: 800; color: rgba(var(--snk-ink), 1); margin-bottom: .5rem; }
.scrape-toc ul { list-style: none; padding: 0; margin: 0; }
.scrape-toc li { margin: .35rem 0; }
.scrape-toc a {
  color: rgba(var(--snk-ink), .9); text-decoration: none; padding: .32rem .5rem; border-radius: 999px; display: inline-flex; align-items: center; gap: .4rem;
}
.scrape-toc a::before { content: "•"; color: rgba(var(--snk-brand-1), .9); font-size: .85em; }
.scrape-toc a:hover { background: linear-gradient(90deg, rgba(var(--snk-brand-1), .08), rgba(var(--snk-brand-2), .06)); text-decoration: none; }
.scrape-toc a:focus { outline: 2px solid rgba(var(--snk-brand-1), .6); outline-offset: 2px; }

/* Article */
.scrape-article { padding-bottom: 3.25rem; color: rgba(var(--snk-ink), .95); max-width: 82ch; margin-left: auto; margin-right: auto; }
.scrape-section {
  scroll-margin-top: 100px; padding-top: 1rem; margin-top: 1.35rem;
  border-top: 1px dashed rgba(var(--snk-border), .08);
  animation: snk-floatUp .6s ease both;
}
.scrape-section h2 { font-weight: 800; letter-spacing: -0.01em; }
.scrape-section p { color: rgba(var(--snk-ink-2), 1); }

/* Expandable/Async content */
.scrape-loader, .scrape-error {
  padding: 1rem; border: 1px solid rgba(var(--snk-border), .1);
  border-radius: 12px; background: rgba(var(--snk-card), 1);
  box-shadow: 0 6px 20px rgba(var(--snk-shadow), .05);
}

/* Prose tweaks */
.prose.scrape-expanded h2, .prose.scrape-expanded h3 { scroll-margin-top: 88px; }
.prose.scrape-expanded blockquote { border-left: 3px solid rgba(var(--snk-brand-1), .45); padding-left: 1rem; color: rgba(var(--snk-ink-2), 1); }
.prose.scrape-expanded a { color: rgb(var(--snk-brand-1)); text-decoration: underline; text-underline-offset: 2px; }

/* Prevent horizontal overflow and wrap long tokens */
.scrape-hero, .scrape-toc, .scrape-article { overflow-wrap:anywhere; word-break:break-word; hyphens:auto; }
.scrape-article, .scrape-article * { overflow-wrap:anywhere; word-break:break-word; hyphens:auto; min-width:0; box-sizing:border-box; max-width:100%; }
/* Constrain readable text measure and center */
.scrape-article .scrape-section > p,
.scrape-article .scrape-section > ul,
.scrape-article .scrape-section > ol,
.scrape-article .scrape-section > blockquote { max-width:72ch; margin-left:auto; margin-right:auto; }
/* Allow CTAs and flex rows to wrap to next line when space is tight */
.scrape-hero__cta { flex-wrap: wrap; }
.scrape-article .flex { flex-wrap: wrap; }
/* Code and pre blocks: wrap long lines instead of overflowing */
.prose pre, .scrape-article pre, .scrape-article code { overflow-x:auto; white-space:pre-wrap; word-break:break-word; max-width:100%; }
/* Make media and tables responsive without causing overflow */
.prose img, .prose video, .prose svg, .scrape-article img, .scrape-article video, .scrape-article svg, .scrape-article iframe { max-width:100%; height:auto; }
.prose table, .scrape-article table { display:block; width:100%; table-layout:fixed; word-break:break-word; overflow-x:auto; border-collapse:collapse; }
/* Expanded async content should also respect measure */
.prose.scrape-expanded, .scrape-expanded { max-width:72ch; margin-left:auto; margin-right:auto; }

/* Cards hover in grids */
.scrape-layout .card, .scrape-article .card {
  transition: transform .22s ease, box-shadow .22s ease, border-color .22s ease;
  border-radius: var(--snk-radius) !important;
}
/* .scrape-layout .card:hover, .scrape-article .card:hover effect removed - no pop-up animation */

/* Micro-interactions */
@keyframes snk-floatUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

/* CTA banner (if used in article) */
.scrape-cta-banner {
  background: linear-gradient(90deg, rgb(var(--snk-brand-2)), rgb(var(--snk-brand-1)));
  color: white; padding: 1rem; border-radius: var(--snk-radius);
  display: flex; align-items: center; justify-content: space-between; gap: 1rem;
}
.scrape-cta-banner .left { max-width: 70%; }
.scrape-cta-banner h3 { font-weight: 900; letter-spacing: -0.01em; }

/* Simulator (if used) */
.scrape-sim { max-width: 820px; }
.scrape-sim__bar { width: 0%; transition: width .9s cubic-bezier(.2,.9,.3,1); }

/* Accessibility */
.scrape-article a:focus-visible, .scrape-toc a:focus-visible { outline: 3px solid rgba(var(--snk-brand-3), .65); outline-offset: 2px; border-radius: 8px; }

/* Compact spacing overrides for /senuke */
.scrape-hero { padding: 2rem 0 1rem; }
.scrape-layout { gap: 1.5rem; }
.scrape-toc { padding: .75rem; }
.scrape-toc li { margin: .25rem 0; }
.scrape-article { padding-bottom: 2rem; }
.scrape-section { margin-top: .9rem; padding-top: .75rem; }
/* Reduce grid gaps inside article regardless of tailwind gap-* utilities */
.scrape-article .grid { gap: 1rem !important; }
/* Tighten card paddings */
.scrape-article .card > .p-6 { padding: .9rem; }
.scrape-article .card > .p-6.pt-0 { padding-top: .4rem; }
/* Slightly smaller titles inside cards */
.scrape-article .card h3 { font-size: 1.125rem; line-height: 1.3; }

/* Responsive tweaks */
@media (max-width: 640px) {
  .scrape-layout { grid-template-columns: 1fr; }
  .scrape-hero::before, .scrape-hero::after { display: none; }
}

/* Print */
@media print {
  .scrape-progress, .scrape-hero__cta, .scrape-toc { display: none !important; }
  .scrape-hero { border: none; padding-bottom: .5rem; }
  .scrape-article { color: #000; }
}
